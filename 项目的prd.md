《读者之旅 Reader’s Journey》PRD（离线纯前端 MVP，v1.5）

## 1. 产品概述

产品名：读者之旅（Reader’s Journey）

定位：将读书行为 RPG 化，提供即时反馈（属性、技能、等级），强化阅读成就感与可视化成长。

目标人群：
1. 爱读书但难以坚持的用户
2. 追求学习成就感的年轻职场人
3. 喜欢游戏化体验的轻阅读人群

核心特性：
1. 用完即走，低频轻量
2. 离线可用，数据仅保存在本机
3. 核心流程：录入 -> 面板更新进度/感触 -> 成长展示 -> 分享

## 2. 本版本目标与边界

### 2.1 本版本目标（必须实现）
1. 提供稳定可用的离线阅读记录与成长反馈闭环。
2. 支持 iOS 上架前的最小可行体验（MVP）。
3. 保证一屏式移动端体验（默认不出现主页面纵向滚动与半截文本）。

### 2.2 页面边界（保留）
1. 录入页
2. 面板页
3. 分享页
4. 设置页

### 2.3 明确删除（本版本不做）
1. AI 书童助手
2. 下一本推荐页面与导航入口
3. 独立进度页（能力并入面板页书卷详情）
4. 购书跳转与联盟导流
5. 云同步、账号体系、登录模块
6. 后端服务与在线 API 依赖

## 3. 功能模块

### 3.1 录入页
1. 搜索书名/作者/ISBN（离线书库搜索）。
2. 支持手动联网搜索（用户主动触发，失败不影响离线主流程）。
3. 选择书籍后可直接入库。
4. 搜索无结果可走“自编录入”。
5. 分类为必选项；未选分类不可提交。
6. 录入后即时反馈奖励（属性/经验）。

### 3.2 面板页（主位）
1. 展示等级与经验摘要。
2. 展示六维属性摘要，并可弹层查看全部属性。
3. 展示“卷轴书架”（在读 + 已完成）。
4. 点击卷轴打开“书卷详情 Sheet”：
5. 可编辑阅读进度（支持校正回退确认）。
6. 可新增/编辑/删除阅读感触时间线。
7. 进度上升时按原规则结算经验、属性、技能、成就。

### 3.3 分享页
1. 生成角色卡信息（昵称、等级、优势属性、技能摘要、邀请码）。
2. 支持复制邀请码。
3. 支持复制分享文案。

### 3.4 设置页
1. 隐私政策入口（App 内可访问）。
2. 数据导出（JSON）。
3. 数据导入（JSON）。
4. 数据重置。
5. 本地存储状态提示。
6. 版本号显示。
7. 关于与支持（邮箱）。
8. 数据仅保存在本机提示。
9. 音频控制（主音频/BGM/SFX/音量/状态）。

## 4. 数值规则（离线）

### 4.1 录入奖励
1. 历史权重：前 10 本 100%，10-50 本 70%，50+ 本 30%。
2. 每日节奏：第 1 本 100%，第 2 本 80%，第 3 本及以上 50%。
3. 新增书奖励系数：x1.5。
4. 自编录入系数：x0.7（防滥用）。

### 4.2 成长曲线
1. 1-50 本：每本成长基线 +10。
2. 51-100 本：每本成长基线 +6。
3. 101-200 本：每本成长基线 +3。

### 4.3 技能解锁
1. 3 本逻辑类 -> 批判性思维 Lv.1。
2. 5 本心理学类 -> 认知偏差识别。
3. 10 本战略类 -> 博弈论应用。
4. 特殊书名（如《君主论》）-> 彩蛋技能。

### 4.4 等级机制
1. 经验随录入与进度结算增长。
2. 升级曲线：低等级快，中后期减缓（指数增长）。

## 5. 离线数据方案

### 5.1 数据来源
1. 预置离线书库（随应用打包）。
2. 用户录入数据（本机持久化）。
3. 离线书库目标规模：约 5 万本（中文热门优先 + 可追溯来源）。

### 5.2 数据结构（前端本地“表”）
1. `catalog_books`：离线书籍基础信息。
2. `category_profiles`：分类到六维属性映射。
3. `reward_policies`：录入与进度结算规则。
4. `skill_rules`：技能解锁条件。
5. `achievement_rules`：成就阈值与奖励。
6. `user_books`：用户书单、阅读状态、感触时间线。
7. `user_stats`：等级、经验、属性、技能、成就。
8. `app_meta`：版本号、存储状态、最后保存时间、schema 版本。

### 5.3 存储策略
1. MVP 使用本地存储（localStorage）。
2. 导入导出使用 JSON。
3. 不做自动云同步。
4. 旧数据自动迁移到 schema v4。

## 6. 设计与多媒体原则

1. 优先软件感，不做网页感。
2. 一屏优先，摘要展示，超出内容走底部弹层（sheet）。
3. 动效轻量且即时，不影响操作效率。
4. BGM 使用长音环境氛围，支持开关与音量调节。
5. 素材仅使用开源可商用或 AI 生成并记录来源与许可。

## 7. 技术架构（本版本）

1. 纯前端：HTML + CSS + JavaScript（PWA）。
2. 支持离线缓存：Service Worker。
3. 不依赖后端数据库与定时任务。
4. 不接入登录系统。

## 8. 验收标准

1. 无网络情况下可完成：录入、面板进度更新、感触维护、分享复制、导入导出。
2. 联网搜索在超时/失败后按钮可恢复可点击。
3. 主页面默认一屏展示，不出现半截文本。
4. 数据重启后可恢复。
5. lint、test、build 全通过。

## 9. 非目标（再次确认）

1. 推荐购书与联盟商业化。
2. 在线热门书抓取与后端定时任务。
3. AI 对话与 Agent 工具链。
4. 账号登录、跨端同步、服务端数据库。
